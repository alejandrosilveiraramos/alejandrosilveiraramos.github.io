(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[939],{1393:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>O});var t=a(5155),r=a(2115),i=a(6874),l=a.n(i),n=a(7340),o=a(4186),d=a(2318),c=a(2486),x=a(4616),u=a(285),m=a(6695),h=a(4165),p=a(9434);function g(e){let{className:s,type:a,...r}=e;return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,p.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...r})}var j=a(968);function v(e){let{className:s,...a}=e;return(0,t.jsx)(j.b,{"data-slot":"label",className:(0,p.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...a})}var f=a(9912),b=a(6474),N=a(5196),y=a(7863);function w(e){let{...s}=e;return(0,t.jsx)(f.bL,{"data-slot":"select",...s})}function S(e){let{...s}=e;return(0,t.jsx)(f.WT,{"data-slot":"select-value",...s})}function C(e){let{className:s,size:a="default",children:r,...i}=e;return(0,t.jsxs)(f.l9,{"data-slot":"select-trigger","data-size":a,className:(0,p.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...i,children:[r,(0,t.jsx)(f.In,{asChild:!0,children:(0,t.jsx)(b.A,{className:"size-4 opacity-50"})})]})}function I(e){let{className:s,children:a,position:r="popper",...i}=e;return(0,t.jsx)(f.ZL,{children:(0,t.jsxs)(f.UC,{"data-slot":"select-content",className:(0,p.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...i,children:[(0,t.jsx)(k,{}),(0,t.jsx)(f.LM,{className:(0,p.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,t.jsx)(B,{})]})})}function z(e){let{className:s,children:a,...r}=e;return(0,t.jsxs)(f.q7,{"data-slot":"select-item",className:(0,p.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...r,children:[(0,t.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(f.VF,{children:(0,t.jsx)(N.A,{className:"size-4"})})}),(0,t.jsx)(f.p4,{children:a})]})}function k(e){let{className:s,...a}=e;return(0,t.jsx)(f.PP,{"data-slot":"select-scroll-up-button",className:(0,p.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,t.jsx)(y.A,{className:"size-4"})})}function B(e){let{className:s,...a}=e;return(0,t.jsx)(f.wn,{"data-slot":"select-scroll-down-button",className:(0,p.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,t.jsx)(b.A,{className:"size-4"})})}function T(e){let{className:s,...a}=e;return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,p.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...a})}var A=a(5819),E=a(9022),P=a(4395),_=a(2525);let $={greeting:[{title:"Cliente Saudado",text:"Cliente saudado de forma cordial.",color:"bg-green-200"},{title:"Confirma\xe7\xe3o de Identidade",text:"Identidade do cliente confirmada.",color:"bg-blue-200"}],"data-collection":[{title:"Dados Coletados",text:"Dados necess\xe1rios coletados com sucesso.",color:"bg-yellow-200"},{title:"Documentos Solicitados",text:"Solicita\xe7\xe3o de documentos ao cliente realizada.",color:"bg-yellow-200"}],"problem-identification":[{title:"Problema Identificado",text:"Problema principal identificado durante a conversa.",color:"bg-red-200"},{title:"Necessita Escalonamento",text:"Problema fora do escopo, requer escalonamento.",color:"bg-red-300"}],resolution:[{title:"Problema Resolvido",text:"Solu\xe7\xe3o aplicada com sucesso.",color:"bg-green-300"},{title:"Solu\xe7\xe3o Parcial",text:"Solu\xe7\xe3o parcial aplicada, requer monitoramento.",color:"bg-orange-300"}],closure:[{title:"Atendimento Encerrado",text:"Atendimento encerrado ap\xf3s confirma\xe7\xe3o de solu\xe7\xe3o.",color:"bg-gray-300"},{title:"Satisfa\xe7\xe3o Confirmada",text:"Cliente confirmou satisfa\xe7\xe3o com a solu\xe7\xe3o.",color:"bg-gray-400"}]};function F(e){let{selectedStage:s,notes:a,setNotes:i}=e,[l,n]=(0,r.useState)({}),[o,d]=(0,r.useState)(!1),[c,m]=(0,r.useState)(!1),[p,j]=(0,r.useState)({title:"",text:"",color:""});(0,r.useEffect)(()=>{let e=localStorage.getItem("customTags");e&&n(JSON.parse(e))},[]),(0,r.useEffect)(()=>{localStorage.setItem("customTags",JSON.stringify(l))},[l]);let f=e=>{i(a?a+" "+e:e)},b=e=>{s&&n(a=>{let t={...a};return t[s]=t[s].filter((s,a)=>a!==e),t})},N=$[s]||[],y=l[s]||[];return(0,t.jsxs)("div",{className:"space-y-4",children:[s&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v,{children:"Tags Comuns"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[N.map((e,s)=>(0,t.jsx)(u.$,{size:"sm",className:"".concat(e.color," hover:opacity-80"),onClick:()=>f(e.text),children:e.title},s)),(0,t.jsxs)(u.$,{variant:"outline",size:"sm",onClick:()=>m(!0),children:[(0,t.jsx)(x.A,{className:"mr-1 h-4 w-4"})," Criar Badge"]}),y.length>0&&(0,t.jsxs)(u.$,{variant:"secondary",size:"sm",onClick:()=>d(e=>!e),children:[(0,t.jsx)(P.A,{className:"mr-1 h-4 w-4"})," ",o?"Ocultar Personalizadas":"Mostrar Personalizadas"]})]}),o&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:y.map((e,s)=>(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.$,{size:"sm",className:"bg-white border-red-500 border-2 text-black pr-8 hover:bg-gray-100",onClick:()=>f(e.text),children:e.title}),(0,t.jsx)(_.A,{className:"absolute top-0 right-0 m-1 h-4 w-4 text-red-500 cursor-pointer",onClick:()=>b(s)})]},s))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v,{htmlFor:"notes",children:"Notas (Opcional)"}),(0,t.jsx)(T,{id:"notes",placeholder:"Adicione suas notas aqui",value:a,onChange:e=>i(e.target.value),disabled:!s,className:"min-h-[100px]"})]}),(0,t.jsx)(h.lG,{open:c,onOpenChange:m,children:(0,t.jsxs)(h.Cf,{children:[(0,t.jsx)(h.c7,{children:(0,t.jsx)(h.L3,{children:"Criar nova Badge"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(v,{children:"T\xedtulo"}),(0,t.jsx)(g,{value:p.title,onChange:e=>j(s=>({...s,title:e.target.value}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(v,{children:"Texto"}),(0,t.jsx)(T,{value:p.text,onChange:e=>j(s=>({...s,text:e.target.value})),className:"min-h-[80px]"})]})]}),(0,t.jsx)(h.Es,{children:(0,t.jsx)(u.$,{onClick:()=>{s&&p.title&&p.text&&(n(e=>({...e,[s]:[...e[s]||[],{...p}]})),j({title:"",text:"",color:"bg-red-700"}),m(!1))},children:"Salvar Badge"})})]})})]})}function O(){let[e,s]=(0,r.useState)(""),[a,i]=(0,r.useState)(""),[p,j]=(0,r.useState)(""),[f,b]=(0,r.useState)(0),[N,y]=(0,r.useState)(!1),[k,B]=(0,r.useState)(!1),[P,_]=(0,r.useState)({}),[$,O]=(0,r.useState)([]),[L,V]=(0,r.useState)(!1),[M,D]=(0,r.useState)({operatorId:"",customerId:"",customerType:"Standard",priority:"Medium"});(0,r.useEffect)(()=>{(0,A.SD)(),O((0,A.S5)());let e=null;return N&&(e=setInterval(()=>{b(e=>e+1)},1e3)),()=>{e&&clearInterval(e)}},[N]);let R=e?(0,A.Ht)(e):null,Z=(e,s)=>{_(a=>({...a,[e]:s}))};return(0,t.jsxs)("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[(0,t.jsxs)("header",{className:"flex h-16 items-center justify-between border-b bg-white px-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(l(),{href:"/",children:(0,t.jsx)(u.$,{variant:"ghost",size:"icon",children:(0,t.jsx)(n.A,{className:"h-5 w-5"})})}),(0,t.jsx)("h1",{className:"text-xl font-semibold",children:"Controle do operador"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[N&&(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-full bg-gray-100 px-3 py-1",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 text-gray-600"}),(0,t.jsx)("span",{className:"font-medium",children:(()=>{let e=Math.floor(f/60);return"".concat(e.toString().padStart(2,"0"),":").concat((f%60).toString().padStart(2,"0"))})()})]}),(0,t.jsxs)(u.$,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>V(!0),children:[(0,t.jsx)(d.A,{className:"h-4 w-4"}),"Nova sess\xe3o"]})]})]}),(0,t.jsx)("main",{className:"flex-1 p-6",children:(0,t.jsxs)("div",{className:"mx-auto grid max-w-5xl gap-6 lg:grid-cols-2",children:[(0,t.jsxs)(m.Zp,{children:[(0,t.jsxs)(m.aR,{children:[(0,t.jsx)(m.ZB,{children:"Sess\xe3o atual"}),(0,t.jsx)(m.BT,{children:"Selecione uma sess\xe3o ativa para visualizar informa\xe7\xf5es"})]}),(0,t.jsxs)(m.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v,{htmlFor:"session",children:"Selecione Sess\xe3o"}),(0,t.jsxs)(w,{value:e,onValueChange:e=>{s(e),i(""),j(""),b(0),y(!1)},children:[(0,t.jsx)(C,{id:"session",children:(0,t.jsx)(S,{placeholder:"Selecione uma sess\xe3o"})}),(0,t.jsx)(I,{children:$.map(e=>(0,t.jsxs)(z,{value:e.id,children:[e.id," - ",e.operatorName]},e.id))})]})]}),e&&R&&(0,t.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,t.jsx)("h3",{className:"mb-2 font-medium",children:"Informa\xe7\xe3o da sess\xe3o"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Operador:"}),(0,t.jsx)("p",{children:R.operatorName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"ID do cliente:"}),(0,t.jsx)("p",{children:R.customerId})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Tipo do cliente:"}),(0,t.jsx)("p",{children:R.customerType})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Prioridade:"}),(0,t.jsx)("p",{children:R.priority})]})]})]})]}),(0,t.jsx)(m.wL,{children:e&&(0,t.jsx)(u.$,{variant:"outline",className:"w-full border-[#EB1B23] text-[#EB1B23] hover:bg-[#EB1B23]/10",onClick:()=>{B(!0)},children:"Sess\xe3o finalizada"})})]}),(0,t.jsxs)(m.Zp,{children:[(0,t.jsxs)(m.aR,{children:[(0,t.jsx)(m.ZB,{children:"Reportar andamento da sess\xe3o"}),(0,t.jsx)(m.BT,{children:"Selecione o est\xe1gio atual e adicione notas"})]}),(0,t.jsxs)(m.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v,{htmlFor:"stage",children:"Est\xe1gio atual"}),(0,t.jsxs)(w,{value:a,onValueChange:e=>{i(e),j(""),b(0),y(!0)},disabled:!e,children:[(0,t.jsx)(C,{id:"stage",children:(0,t.jsx)(S,{placeholder:"Selecione o est\xe1gio atual"})}),(0,t.jsx)(I,{children:E._$.map(e=>(0,t.jsx)(z,{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsx)(F,{selectedStage:a,notes:p,setNotes:j})]}),(0,t.jsx)(m.wL,{children:(0,t.jsxs)(u.$,{className:"w-full bg-[#EB1B23] hover:bg-[#c91820]",disabled:!a,onClick:()=>{e&&a&&((0,A.VU)(e,a,p),i(""),j(""),b(0),y(!1),O((0,A.S5)()))},children:["Atualizar atendimento",(0,t.jsx)(c.A,{className:"mr-2 h-4 w-4"})]})})]})]})}),(0,t.jsx)(h.lG,{open:k,onOpenChange:B,children:(0,t.jsxs)(h.Cf,{className:"max-w-4xl",children:[(0,t.jsxs)(h.c7,{children:[(0,t.jsx)(h.L3,{children:"Finalizar sess\xe3o"}),(0,t.jsx)(h.rr,{children:"Adicione relat\xf3rios para cada est\xe1gio antes de finalizar a sess\xe3o"})]}),(0,t.jsx)("div",{className:"max-h-[60vh] space-y-4 overflow-y-auto py-4",children:null==R?void 0:R.stages.map((e,s)=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(v,{htmlFor:"stage-".concat(s),children:[e.name," (",e.duration," minutos)"]}),(0,t.jsx)(T,{id:"stage-".concat(s),placeholder:"Report for ".concat(e.name," stage"),value:P[e.id]||"",onChange:s=>Z(e.id,s.target.value),className:"min-h-[80px]"})]},s))}),(0,t.jsxs)(h.Es,{className:"mt-6",children:[(0,t.jsx)(u.$,{variant:"outline",onClick:()=>B(!1),children:"Cancelar"}),(0,t.jsx)(u.$,{className:"bg-[#EB1B23] hover:bg-[#c91820]",onClick:()=>{e&&((0,A.Pl)(e,P),B(!1),s(""),i(""),j(""),b(0),y(!1),_({}),O((0,A.S5)()))},children:"Finalizar sess\xe3o"})]})]})}),(0,t.jsx)(h.lG,{open:L,onOpenChange:V,children:(0,t.jsxs)(h.Cf,{children:[(0,t.jsxs)(h.c7,{children:[(0,t.jsx)(h.L3,{children:"Criar nova sess\xe3o"}),(0,t.jsx)(h.rr,{children:"Come\xe7ar nova sess\xe3o com cliente"})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v,{htmlFor:"operator",children:"Operador"}),(0,t.jsxs)(w,{value:M.operatorId,onValueChange:e=>D({...M,operatorId:e}),children:[(0,t.jsx)(C,{id:"operator",children:(0,t.jsx)(S,{placeholder:"Selecionar operador"})}),(0,t.jsx)(I,{children:E.II.map(e=>(0,t.jsxs)(z,{value:e.id,children:[e.name," - ",e.department]},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v,{htmlFor:"customerId",children:"ID do cliente"}),(0,t.jsx)(g,{id:"customerId",placeholder:"#CUST-1234",value:M.customerId,onChange:e=>D({...M,customerId:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v,{htmlFor:"customerType",children:"Tipo do cliente"}),(0,t.jsxs)(w,{value:M.customerType,onValueChange:e=>D({...M,customerType:e}),children:[(0,t.jsx)(C,{id:"customerType",children:(0,t.jsx)(S,{placeholder:"Selecione um tipo"})}),(0,t.jsxs)(I,{children:[(0,t.jsx)(z,{value:"Standard",children:"Padr\xe3o"}),(0,t.jsx)(z,{value:"Premium",children:"Premium"}),(0,t.jsx)(z,{value:"VIP",children:"VIP"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v,{htmlFor:"priority",children:"Prioridade"}),(0,t.jsxs)(w,{value:M.priority,onValueChange:e=>D({...M,priority:e}),children:[(0,t.jsx)(C,{id:"priority",children:(0,t.jsx)(S,{placeholder:"Select priority"})}),(0,t.jsxs)(I,{children:[(0,t.jsx)(z,{value:"Low",children:"Baixa"}),(0,t.jsx)(z,{value:"Medium",children:"M\xe9dia"}),(0,t.jsx)(z,{value:"High",children:"Alta"})]})]})]})]})]}),(0,t.jsxs)(h.Es,{children:[(0,t.jsx)(u.$,{variant:"outline",onClick:()=>V(!1),children:"Cancel"}),(0,t.jsxs)(u.$,{className:"bg-[#EB1B23] hover:bg-[#c91820]",onClick:()=>{let e=E.II.find(e=>e.id===M.operatorId);if(e&&M.customerId){let a=(0,A.jw)(e.id,e.name,M.customerId,M.customerType,M.priority);V(!1),D({operatorId:"",customerId:"",customerType:"Standard",priority:"Medium"}),O((0,A.S5)()),s(a.id)}},disabled:!M.operatorId||!M.customerId,children:[(0,t.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Criar sess\xe3o"]})]})]})})]})}},8252:(e,s,a)=>{Promise.resolve().then(a.bind(a,1393))}},e=>{var s=s=>e(e.s=s);e.O(0,[874,29,615,409,441,684,358],()=>s(8252)),_N_E=e.O()}]);